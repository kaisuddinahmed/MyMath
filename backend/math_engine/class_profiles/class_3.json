{
  "curriculum": "nctb",
  "class_level": 3,
  "topics_in_scope": [
    "numbers",
    "counting",
    "comparison",
    "place_value",
    "ordinal_numbers",
    "patterns",
    "addition",
    "subtraction",
    "multiplication",
    "division",
    "mixed_problems",
    "word_problems",
    "fractions",
    "currency",
    "measurement",
    "geometry",
    "data",
    "relation_add_sub",
    "relation_mul_div",
    "practice"
  ],
  "constraints": {
    "max_number": 100000,
    "allow_negative": false,
    "allow_fractions": true,
    "allow_decimals": false,
    "geometry_dimension": "2d_only"
  },
  "topic_constraints": {
    "counting": {
      "min": 0,
      "max": 100000
    },
    "place_value": {
      "levels": ["ones", "tens", "hundreds", "thousands", "ayut", "lakh"],
      "max_place": "lakh"
    },
    "addition": {
      "max_digits": 5,
      "require_carry_explanation": true
    },
    "subtraction": {
      "min_result": 0,
      "max_digits": 5,
      "require_borrow_explanation": true
    },
    "multiplication": {
      "table_min": 1,
      "model": "partial_products",
      "multiplicand_digits_max": 3,
      "multiplier_digits_max": 2
    },
    "division": {
      "allow_division_by_zero": false,
      "show_remainder": true,
      "remainder_less_than_divisor": true
    },
    "fractions": {
      "allowed_visual_fractions": ["1/2", "1/3", "1/4"],
      "visual_only_hint": true
    },
    "currency": {
      "poisa_per_taka": 100,
      "allow_taka_poisa_format": true,
      "allow_decimal_taka": true
    },
    "measurement": {
      "allowed_units": ["km", "m", "cm", "kg", "gm", "g", "l", "litre", "liter", "ml", "hour", "minute", "day"],
      "conversion_rules": {
        "m_to_cm": 100,
        "kg_to_gm": 1000,
        "hour_to_min": 60,
        "day_to_hour": 24
      }
    },
    "geometry": {
      "dimension": "2d",
      "allowed_shapes": ["point", "line", "angle", "triangle", "quadrilateral"]
    },
    "ordinal_numbers": {
      "min": 1,
      "max": 20
    }
  },
  "chapter_rules": [
    {
      "chapter": 1,
      "topic": "numbers",
      "input_pattern": "place value and number name up to lakh",
      "logic": "place value across ones/tens/hundreds/thousands/ayut/lakh"
    },
    {
      "chapter": "2-3",
      "topic": "addition_subtraction",
      "input_pattern": "sum/difference up to five digits",
      "logic": "carry/borrow explanations including across zeros"
    },
    {
      "chapter": 5,
      "topic": "multiplication",
      "input_pattern": "2-3 digit by 1-2 digit multiplication",
      "logic": "long multiplication with partial products"
    },
    {
      "chapter": 6,
      "topic": "division",
      "input_pattern": "division concept and remainder",
      "logic": "quotient/remainder format with remainder < divisor"
    },
    {
      "chapter": 8,
      "topic": "mixed_problems",
      "input_pattern": "multi-step word problems and unitary method",
      "logic": "infer operation order and solve stepwise"
    },
    {
      "chapter": 9,
      "topic": "fractions",
      "input_pattern": "visual unit fractions",
      "logic": "identify numerator/denominator and unit fraction type"
    },
    {
      "chapter": 10,
      "topic": "currency",
      "input_pattern": "taka-poisa arithmetic including decimal taka",
      "logic": "money sum/diff with 100 poisa = 1 taka carry"
    },
    {
      "chapter": 11,
      "topic": "measurement",
      "input_pattern": "unit conversion and time/calendar basics",
      "logic": "m<->cm, kg<->gm, hour<->minute, day<->hour"
    },
    {
      "chapter": 12,
      "topic": "geometry",
      "input_pattern": "identify point/line/angle/triangle/quadrilateral",
      "logic": "2D geometry identification by sides/corners/rays"
    },
    {
      "chapter": 13,
      "topic": "data",
      "input_pattern": "tally and grouped counts",
      "logic": "group-by counts including tally groups of 5"
    }
  ],
  "visual_metaphors": {
    "place_value": ["cube", "sheet", "strip", "base blocks", "lakh chart"],
    "division": ["grouping circles", "sharing lines", "equal groups"],
    "fractions": ["shaded circle", "shaded rectangle", "equal parts"],
    "geometry": ["two rays with vertex", "triangle 3 sides", "quadrilateral 4 sides"],
    "data": ["tally marks", "group of 5 tally", "object table"]
  },
  "messages": {
    "out_of_scope_topic": "This topic is outside NCTB Class 3 right now.",
    "fraction_out_of_scope": "Please use Class 3 unit fractions (1/2, 1/3, 1/4).",
    "decimal_out_of_scope": "Decimals are only supported in money format for Class 3.",
    "negative_subtraction": "We cannot take {b} away from {a}.",
    "max_number_exceeded": "Please use Class 3 numbers up to {max_number}.",
    "division_by_zero": "Division by 0 is impossible.",
    "remainder_rule": "Remainder must be smaller than the divisor.",
    "times_table_range": "For this lesson, use multiplication tables from 1 to 10.",
    "ordinal_range": "For this lesson, ordinal numbers go from 1st to 20th."
  }
}
